<!--
  Generated template for the RelationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header color="primary">

  <ion-navbar color="primary">
    <ion-title>Relation-page</ion-title>
    <ion-buttons>
      <button class="button_setting rotate" (click)="openModal()">
        <ion-icon class=" ion-md-settings" ios="ios-settings">
        </ion-icon></button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding *ngIf="travel!=null">
  <ion-list>
    <ion-list-header>
      <ion-title>
        <ion-row center>
          <ion-col col-md-2 text-center>Heure</ion-col>
          <ion-col col-md-5 text-center>Destination</ion-col>
          <ion-col col-md-5 text-center>N541</ion-col>
          <!--<ion-col col-md-5 text-center class="secret">N541</ion-col>-->
        </ion-row>
      </ion-title>
    </ion-list-header>


    <ion-list no-padding>
      <ion-grid >
        <ion-item *ngFor="let vehiclesItem of travel.vehicles">
          <ion-row *ngIf="vehiclesItem.vehicle.arrivalOrDeparture==1">
            <ion-col col-md-2 text-center>{{ vehiclesItem.vehicle.departureExpectedTime }}</ion-col>

            <ion-col col-md-5 text-center class="cursor wrap-text">
              <ion-list no-lines no-margin no-padding>
                <div  *ngFor="let relationsItem of vehiclesItem.vehicle.relations" text-center class="wrap-text"  (click)="itemSelected(vehiclesItem,relationsItem)">
                  {{relationsItem.destination}}
                </div>
              </ion-list>
            </ion-col>


            <ion-col col-md-4 text-center class="wrap-text">{{ vehiclesItem.vehicle.linkNumber}}-{{
              vehiclesItem.vehicle.periodicity}}
            </ion-col>
            <ion-icon col-md-1 text-center ngClass="custum-icon cursor" name="information-circle"
                      (click)= "showAlert(vehiclesItem)"></ion-icon>
          </ion-row>


          <ion-row *ngIf="vehiclesItem.vehicle.arrivalOrDeparture==2">
            <ion-col col-md-2 text-center>{{ vehiclesItem.vehicle.arrivalExpectedTime  }}</ion-col>

            <ion-col col-md-5 text-center (click)="itemSelected(vehiclesItem, vehiclesItem.vehicle.relations[0])" class="cursor wrap-text">
              {{ vehiclesItem.vehicle.relations[0].origin }}

            </ion-col>


            <ion-col col-md-4 text-center class="wrap-text">{{ vehiclesItem.vehicle.linkNumber}}-{{
              vehiclesItem.vehicle.periodicity}}
            </ion-col>
            <ion-icon col-md-1 text-center class="custum-icon cursor" name="information-circle"
                      (click)="showAlert(vehiclesItem)"></ion-icon>

          </ion-row>
        </ion-item>
      </ion-grid>
    </ion-list>
  </ion-list>
</ion-content>